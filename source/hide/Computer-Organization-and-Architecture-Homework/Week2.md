---
title: 计算机组成与体系结构 Week 2
date: 2016-09-15 18:10:10
categories:
- 计算机组成与体系结构
- 作业
tags:
---
 
1 什么是总线？总线传输有何特点？

# 总线(Bus)

> **总线**是连接两个或多个设备的通信通路。总线的关键特征是共享传输介质。多个设备连接到总线上，并且任何一个设备发出的信号可以被其他所有链接到总线上的设备所接收。如果两个设备同时发送，它们的信号将会重叠，这样会引起混淆。因此，每次只能有一个设备能够成功地利用总线发送数据。

总线本质上就是导线，通过电位传导来工作，用高低电平来模拟0-1信号，在多条导线的积累下完成0-1数据串的传输。

由于总线的物理特性（电磁传导的速度是 $c = 3.0 \times 10^8 m/s$ ），总线 $L$ 越长，其延迟 $t = \frac{L}{c}$ 越大。

2 什么是系统总线？它分为哪几类？各有什么作用？分别是单向的还是双向的？他们与机器字长、存储字长及存储单元数有何关系？

> 连接计算机的主要部件（处理器、存储器、I/O设备）的总线称为**系统总线**。

## 总线的类型

> 任何总线的线路都可以分成如下 3 个功能组：**数据线**、**地址线**和**控制线**。

### 数据线
 
> 数据线提供系统模块间传送数据的路径。

它是**双向**的。

数据线的数量称为数据总线宽度，**数据总线宽度**等于**机器字长**。

### 地址线

> 地址线用于指定数据总线上数据的来源或去向。

它是**单向**的。

类似地称地址线的数量为地址总线宽度，**地址总线宽度**即**存储字长**，直接决定**最大存储单元数**（寻址空间大小）。

### 控制线

> 控制线用来控制对数据线和地址线的存取和使用。

它是**双向**的。

3 常见的集中式总线控制有几种？各有何特点？哪种方式响应时间最快？哪种方式对电路故障最敏感？

## 集中式总线控制

### Daisy Chain Polling (串联轮询)

> 近水楼台先得月

所有设备串行地连在由总线控制器延伸出的控制总线上。

1. 优先级由硬件链接顺序决定。
2. 易于扩充设备。
3. **对电路故障特别敏感**: 只要链上一个设备(位置)发生故障，其后所有设备都会失效。

### Counter Timing Polling (时间戳轮询)

> 先来后到，人人有份

所有设备都有到总线控制器的总线通道，按申请的先后顺序打上时间戳，顺次执行。

1. 优先级由软件控制，比较灵活。
2. 优先级与硬件链接无关，对于各个部件机会均等。
3. 控制复杂。
4. 总线分配效率不高。

### Seperate Request (独立请求)

> 一等二靠三落空，一想二干三成功

设备**主动联系**总线控制器，然后由总线控制器按照某种逻辑挑一个放行。

1. 设备主动申请，**响应时间快**。
2. 优先级可由软件或硬件控制，非常灵活。
3. 线多，控制逻辑复杂。

4 常见的总线通信方式有哪些？各有什么特点？

## 总线通信方式

> 常见的总线通信方式有 4 种：**同步的**、**异步的**、**半同步的**和**独立的**。

### Synchronous (同步的)

1. 实现简单。
2. 不灵活，资源利用率不高。

### Asynchronous (异步的)

1. 能很好地协调不同速度的设备的通讯
2. 编程、控制逻辑复杂。

### Half-synchronous (半同步的)

1. 时钟控制(同步的特性)
2. 等待链控制(异步的特性)

### Separated (独立的)

1. 能很高效地调度总线，减小空载等待。
2. 逻辑极为复杂。

5 Problem 3.1 ~ 3.3

3-1 图 3 - 4 所示的假想机器同样有两个 I/O 指令：

0011 = 从 I/O 装入 AC

0111 = 将 AC 内容存入 I/O

在上述约定下，使用 12 位的地址来标识一个特定的 I/O 设备。给出下列程序的执行过程（用图 3 - 5 的格式）：

（1） 从设备 5 装入 AC。

（2） 与内存单元 940 的内容相加。

（3） 将 AC 存入设备 6。

假设从设备 5 提取的下一个值为 3 ，而内存单元 940 的内容为 2。

3-2 本书中使用 6 步来描述图 3 - 5 的程序执行，请解释这些步骤以说明 MAR  MBR 的作用。

3-3 考虑一个假想的 32 位微处理器采用 32 位的指令格式，这种指令有两个部分：第 1 个字节包含操作码，其余部分是立即操作数或操作数的地址。

1. 最大可能直接寻址的存储器容量是多少（以字节为单位）？
$$
\frac{2^{24} \times 32 \text{bit}}{2^3 \text{bit} / \text{B}} = 2^{26} \text{B}
$$
2. 讨论下面的微处理器总线对系统的影响：
     1. 32 位局部地址总线和 16 位局部数据总线。
     2. 16 位局部地址总线和 16 位局部数据总线。
3. 程序计数器和指令寄存器需要多少位？ **32 位**。
